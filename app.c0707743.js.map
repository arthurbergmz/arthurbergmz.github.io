{"version":3,"sources":["index.js"],"names":["getElementsByClass","elementClass","reduce","obj","clazz","el","document","getElementsByClassName","click","handler","addEventListener","event","css","property","value","undefined","style","reactivity","initialState","stateMachine","Object","getOwnPropertyNames","machine","propertyObj","_state","_core","_lastValue","_handler","Proxy","set","target","receiver","propertyCore","Reflect","appElements","appProperties","seal","mobileMenuMaxHeight","getBoundingClientRect","height","appState","menuOpen","_","classList","add","remove","e","self","preventDefault","console","log"],"mappings":";;;AAuEA,aArEA,SAASA,EAAmBC,GACnBA,OAAAA,EAAaC,OAAO,SAACC,EAAKC,GACzBC,IAAAA,EAAKC,SAASC,uBAAuBH,GAAO,GAM3CD,OALPA,EAAIC,GAAS,CACXI,MAAO,SAACC,GAAYJ,OAAAA,EAAGK,iBAAiB,QAAS,SAACC,GAAUF,OAAAA,EAAQE,EAAON,MAC3EO,IAAK,SAACC,EAAUC,GAAUA,YAAUC,IAAVD,EAAsBT,EAAGW,MAAMH,GAAYR,EAAGW,MAAMH,GAAsB,OAAVC,EAAiB,EAAIA,GAC/GT,GAAAA,GAEKF,GACN,IAGL,SAASc,EAAYC,GACbC,IAAAA,EAAeC,OAAOC,oBAAoBH,GAAchB,OAAO,SAACoB,EAAST,GACvEU,IAAAA,EAAcL,EAAaL,GAG1BS,OAFPA,EAAQE,OAAOX,GAAYU,EAAYT,MACvCQ,EAAQG,MAAMZ,GAAY,CAAEa,WAAYH,EAAYT,MAAOa,SAAUJ,EAAYd,SAC1Ea,GACN,CAAEE,OAAQ,GAAIC,MAAO,KACjB,OAAA,IAAIG,MAAMT,EAAaK,OAAQ,CACpCK,IAAKC,SAAAA,EAAQjB,EAAUC,EAAOiB,GACtBC,IAAAA,EAAeb,EAAaM,MAAMZ,GAEjCoB,OADPD,EAAaL,SAAUK,EAAaN,WAAaI,EAAOjB,GAAYC,GAC7DmB,QAAQJ,IAAIC,EAAQjB,EAAUC,EAAOiB,MAzBlD,QAAA,uBA8BA,IAAMG,EAAclC,EAAmB,CACrC,cAAe,WAAY,mBAAoB,wBAAyB,wBAAyB,iBAAkB,2BAG/GmC,EAAgBf,OAAOgB,KAAK,CAChCC,oBAAqBH,EAAY,kBAAkB7B,GAAGiC,wBAAwBC,SAG1EC,EAAWvB,EAAW,CAC1BwB,SAAU,CACR3B,OAAO,EACPL,QAASiC,SAAAA,EAAG5B,GACNA,GACFoB,EAAY,eAAe7B,GAAGsC,UAAUC,IAAI,0BAC5CV,EAAY,YAAY7B,GAAGsC,UAAUC,IAAI,oBACzCV,EAAY,yBAAyB7B,GAAGsC,UAAUC,IAAI,oCACtDV,EAAY,0BAA0BtB,IAAI,aAAcuB,EAAcE,oBAAsB,QAE5FH,EAAY,eAAe7B,GAAGsC,UAAUE,OAAO,0BAC/CX,EAAY,YAAY7B,GAAGsC,UAAUE,OAAO,oBAC5CX,EAAY,yBAAyB7B,GAAGsC,UAAUE,OAAO,oCACzDX,EAAY,0BAA0BtB,IAAI,aAAc,QAMhEsB,EAAY,oBAAoB1B,MAAM,SAACsC,EAAGC,GACpCD,GAAAA,EAAEhB,SAAWiB,EACRD,OAAAA,EAAEE,iBAEXR,EAASC,UAAYD,EAASC,WAGhCP,EAAY,YAAY1B,MAAM,SAACsC,EAAGC,GAC5BD,GAAAA,EAAEhB,SAAWiB,EACRD,OAAAA,EAAEE,iBAEXR,EAASC,UAAW,IAGtBQ,QAAQC,IAAI","file":"app.c0707743.js","sourceRoot":"..\\app","sourcesContent":["import './style/_build.scss'\n\nfunction getElementsByClass(elementClass) {\n  return elementClass.reduce((obj, clazz) => {\n    const el = document.getElementsByClassName(clazz)[0]\n    obj[clazz] = {\n      click: (handler) => el.addEventListener('click', (event) => handler(event, el)),\n      css: (property, value) => value === undefined ? el.style[property] : el.style[property] = value === null ? 0 : value,\n      el\n    }\n    return obj\n  }, {})\n}\n\nfunction reactivity (initialState) {\n  const stateMachine = Object.getOwnPropertyNames(initialState).reduce((machine, property) => {\n    const propertyObj = initialState[property]\n    machine._state[property] = propertyObj.value\n    machine._core[property] = { _lastValue: propertyObj.value, _handler: propertyObj.handler }\n    return machine\n  }, { _state: {}, _core: {} })\n  return new Proxy(stateMachine._state, {\n    set (target, property, value, receiver) {\n      const propertyCore = stateMachine._core[property]\n      propertyCore._handler((propertyCore._lastValue = target[property]), value)\n      return Reflect.set(target, property, value, receiver)\n    }\n  })\n}\n\nconst appElements = getElementsByClass([\n  'app-wrapper', 'app-menu', 'app-menu__header', 'app-menu__back-button', 'app-menu__show-button', 'app-menu__body', 'app-menu__body-wrapper'\n])\n\nconst appProperties = Object.seal({\n  mobileMenuMaxHeight: appElements['app-menu__body'].el.getBoundingClientRect().height\n})\n\nconst appState = reactivity({\n  menuOpen: {\n    value: false,\n    handler (_, value) {\n      if (value) {\n        appElements['app-wrapper'].el.classList.add('app-wrapper--unfocused')\n        appElements['app-menu'].el.classList.add('app-menu--active')\n        appElements['app-menu__show-button'].el.classList.add('app-menu__show-button--show-less')\n        appElements['app-menu__body-wrapper'].css('max-height', appProperties.mobileMenuMaxHeight + 'px')\n      } else {\n        appElements['app-wrapper'].el.classList.remove('app-wrapper--unfocused')\n        appElements['app-menu'].el.classList.remove('app-menu--active')\n        appElements['app-menu__show-button'].el.classList.remove('app-menu__show-button--show-less')\n        appElements['app-menu__body-wrapper'].css('max-height', 0)\n      }\n    }\n  }\n})\n\nappElements['app-menu__header'].click((e, self) => {\n  if (e.target !== self) {\n    return e.preventDefault()\n  }\n  appState.menuOpen = !appState.menuOpen\n})\n\nappElements['app-menu'].click((e, self) => {\n  if (e.target !== self) {\n    return e.preventDefault()\n  }\n  appState.menuOpen = false\n})\n\nconsole.log('Hello, world!')"]}